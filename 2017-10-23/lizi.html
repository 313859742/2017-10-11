<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>
		姓名：<input type="text" name="user" id="userId"/>
		<br />
		密码：<input type="password" name="password"/>
		<br />
		<input type="button" value="提交"/>
		<script src="ajax_1.0.js"></script>
		<script>
			// 获取要操作的元素
			const userId=document.getElementById('userId');
			// userId添加失去焦点的事件
			userId.onblur=function(){
				/************************ajax的例子*********************************/
//				ajax({
//					url:'php/get.php',
//					data:{
//		                user:userId.value
//		           },
//					success:function(data){
//						data.replace(/(\((\D+)\))/,function($0,$1,$2){
//							console.log($2);
//							data=$2;
//						});
//						switch(data){
//							// case后面跟的语句是匹配到的的值是这个就执行这个值得后面语句，否则就break出去
//							// 用break是为了防止多个判断语句执行
//							case'用户名可以注册':userId.style.borderColor="green";
//							break;
//							case'用户名已经被注册':userId.style.borderColor="red";
//							break;
//							default:userId.style.borderColor="red";
//						}
//					}
//				});
				/********************************get获取方式*****************************/
//				const ajax=new XMLHttpRequest;//创建一个ajax的对象
//				//get是通过地址栏进行数据传输的
//				// 填写地址
//				// 第一个参数：用get方式获取
//				//第二个参数:
//				ajax.open('get','php/get.php?user='+userId.value,true);
//				//发送给服务器
//				ajax.send();
//				//等待
//				ajax.onload=function(){
//					//通话
//					console.log(ajax.responseText)
//				}
				
				/****************************post获取方式*********************************/
				
				const ajax=new XMLHttpRequest;//创建一个ajax对象
				//通过服务器传输，安全性能高些
				ajax.open('post','php/post.php');
				//请求头
				ajax.setRequestHeader('Content-Type','application/x-www-form-urlencoded');
				//通过服务器传输，安全性能高些
				ajax.send('user='+userId.value);
				// 等待
				ajax.onload=function(){
					//通话
					console.log(ajax.responseText);
				};
			}
		</script>
	</body>
</html>
