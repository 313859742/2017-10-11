<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>拖拽函数</title>
		<style>
			body{
				margin:0;
				padding:0;
			}
			.box{
				width:100px;
				height:100px;
				position: absolute;
				top:0;
				left:0;
				background-color:#000099;
			}
		</style>
	</head>
	<body>
		<div class="box"></div>
		<script>
			var  box=document.querySelector(".box");
			box.addEventListener("mousedown",down);
			function down(ev){
				var boxX=ev.clientX - this.offsetLeft;
				var boxY=ev.clientY - this.offsetTop;
				document.addEventListener("mousemove",move);
				function move(ev){
					box.style.left=ev.clientX-boxX+"px";
					box.style.top=ev.clientY-boxY+"px";
					document.addEventListener("mouseup",up);
					function up(){
						document.removeEventListener("mousemove",move);
						document.removeEventListener("mouseup",up);
					}
				}
			}

		</script>
	</body>
</html>
